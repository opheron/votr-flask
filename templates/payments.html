{% extends "layout.html" %}{% block content %}

  <div class="container">
    <div class="alert alert-light">
      <h1>Payments</h1> 
      <p>a payment made by an end user of Votr.</p>
    </div>
      <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col">payment_id</th>
            <th scope="col">user_id</th>
            <th scope="col">amount_usd</th>
            <th scope="col">payment_purposes</th>
          </tr>
        </thead>
        <tbody>
          {% for payment in all_payments %}
    
          <tr>
            <th scope="row">{{ payment["payment_id"] }}</th>
            <td>{{ payment["user_id"] }}</td>
            <td>{{ payment["amount_usd"] }}</td>
            <td>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value=""
                id="flexCheckDefault" {% if "test" in payment["payment_purposes"] %}
                checked="" {% endif %} disabled />
                <label class="form-check-label" for="flexCheckDefault">
                  test
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value=""
                id="flexCheckDefault" {% if "free_trial" in payment["payment_purposes"] %}
                checked="" {% endif %} disabled />
                <label class="form-check-label" for="flexCheckDefault">
                  free trial
                </label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value=""
                id="flexCheckDefault" {% if "subscription" in payment["payment_purposes"] %}
                checked="" {% endif %} disabled />
                <label class="form-check-label" for="flexCheckDefault">
                  subscription
                </label>
              </div>
    
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value=""
                id="flexCheckDefault" {% if "donation" in payment["payment_purposes"]
                %} checked="" {% endif %} disabled />
                <label class="form-check-label" for="flexCheckDefault">
                  donation
                </label>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
        </table>
      </div>
    <div>
      <form name="add-new-payment" method="POST" action="/add_new_payment">
        {{ add_new_payment_form.csrf_token }}
        <h3>Add New Payment</h3>
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col">payment_id</th>
              <th scope="col">user_id</th>
              <th scope="col">amount_usd</th>
              <th
                scope="col"
                data-toggle="tooltip"
                data-placement="top"
                title="payment's purposes"
              >
                payment_purposes
              </th>
            </tr>
          </thead>
    
          <tbody>
            <tr>
              <th scope="row"><i>auto incremented</i></th>
              <td>
                {# TODO: Decide if aria-describedby is useful #} {#
                ####################################### #} {# Old Input:
                <input
                  type="text"
                  class="form-control"
                  id="users-create-username"
                  aria-describedby="create-username-help"
                  placeholder="Ex: personOne"
                />
                #}
                <div class="mb-3 form-group row">
                <div class="mb-3">
                  <!-- USERNAME LABEL -->
                  {{ add_new_payment_form.user_id.label(class="form-label") }}
                  <!-- USERNAME FIELD -->
                  {{ add_new_payment_form.user_id(class="form-control" ) }}
                  <div id="create-user_id-help" class="form-text">FK</div>
                </div>
              </td>
              <td>
                <div class="mb-3 form-group row">
                  <!-- EMAIL ADDRESS LABEL -->
                  {{ add_new_payment_form.amount_usd.label(class="form-label")
                  }}
                  <!-- EMAIL ADDRESS FIELD -->
                  {{ add_new_payment_form.amount_usd( class="form-control",
                  placeholder="Ex: 5.99") }}
                  <div id="create-amount_usd-help" class="form-text">
                    decimal
                  </div>
                </div>
              </td>
              <td>
                <div class="form-check">
                  <!-- FIELD -->
                  {{add_new_payment_form.payment_purposes_test(class="form-check-input", checked="")}}
                  <!-- LABEL -->
                  {{ add_new_payment_form.payment_purposes_test.label(name="test", class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{add_new_payment_form.payment_purposes_free_trial(class="form-check-input" )}}
                  <!-- LABEL -->
                  {{ add_new_payment_form.payment_purposes_free_trial.label(class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{add_new_payment_form.payment_purposes_subscription(class="form-check-input")}}
                  <!-- LABEL -->
                  {{ add_new_payment_form.payment_purposes_subscription.label(class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{add_new_payment_form.payment_purposes_donation(class="form-check-input")}}
                  <!-- LABEL -->
                  {{ add_new_payment_form.payment_purposes_donation.label(class="form-check-label") }}
                </div>
                <div id="payments-payment_purposes-help" class="form-text">set</div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
    
        <button name="create-new-payment" type="submit" class="btn btn-primary">Create New Payment</button>
      </form>
    </div>

    <div>
      <form name="delete-payment" method="POST" action="/delete_payment">
        {{ delete_payment_form.csrf_token }}
        <h3>Delete Payment</h3>
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col">payment_id</th>
            </tr>
          </thead>
    
          <tbody>
            <tr>
              <td>
                <div class="mb-3 form-group row">
                <div class="mb-3">
                  <!-- USERNAME LABEL -->
                  {{ delete_payment_form.payment_id.label(class="form-label") }}
                  <!-- USERNAME FIELD -->
                  {{ delete_payment_form.payment_id(class="form-control" ) }}
                  <div id="create-payment_id-help" class="form-text">PK</div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
    
        <button name="delete-payment" type="submit" class="btn btn-primary">Delete Payment</button>
      </form>
    </div>

    <div class="container">
      <form>
        <h3>Search Payments</h3>
        <div class="btn-group">
          <select name="delete-payment-by-id" class="form-select" aria-label="Delete Payment ID">
            <option selected>Payment ID</option>
            {% for payment in all_payments %}
            <option value="{{ payment["payment_id"] }}">{{ payment["payment_id"] }}</option>
            {% endfor %}
          </select>
        <button type="submit" class="btn btn-primary">Search</button><!--dont know about type here-->
      </form>
    </div>


    <div>
      <form name="update-payment" method="POST" action="/update_payment">
        {{ update_payment_form.csrf_token }}
        <h3>Update Payment</h3>
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col">payment_id</th>
              <th scope="col">user_id</th>
              <th scope="col">amount_usd</th>
              <th
                scope="col"
                data-toggle="tooltip"
                data-placement="top"
                title="payment's purposes"
              >
                payment_purposes
              </th>
            </tr>
          </thead>
    
          <tbody>
            <tr>
              <td>
                <div class="mb-3 form-group row">
                <div class="mb-3">
                  <!-- USERNAME LABEL -->
                  {{ update_payment_form.payment_id.label(class="form-label") }}
                  <!-- USERNAME FIELD -->
                  {{ update_payment_form.payment_id(class="form-control" ) }}
                  <div id="create-user_id-help" class="form-text">PK</div>
                </div>
              </td>
              <td>
                <div class="mb-3 form-group row">
                <div class="mb-3">
                  <!-- USERNAME LABEL -->
                  {{ update_payment_form.user_id.label(class="form-label") }}
                  <!-- USERNAME FIELD -->
                  {{ update_payment_form.user_id(class="form-control" ) }}
                  <div id="create-user_id-help" class="form-text">FK</div>
                </div>
              </td>
              <td>
                <div class="mb-3 form-group row">
                  <!-- EMAIL ADDRESS LABEL -->
                  {{ update_payment_form.amount_usd.label(class="form-label")
                  }}
                  <!-- EMAIL ADDRESS FIELD -->
                  {{ update_payment_form.amount_usd( class="form-control",
                  placeholder="Ex: 5.99") }}
                  <div id="create-amount_usd-help" class="form-text">
                    decimal
                  </div>
                </div>
              </td>
              <td>
                <div class="form-check">
                  <!-- FIELD -->
                  {{update_payment_form.payment_purposes_test(class="form-check-input", checked="")}}
                  <!-- LABEL -->
                  {{ update_payment_form.payment_purposes_test.label(name="test", class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{update_payment_form.payment_purposes_free_trial(class="form-check-input" )}}
                  <!-- LABEL -->
                  {{ update_payment_form.payment_purposes_free_trial.label(class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{update_payment_form.payment_purposes_subscription(class="form-check-input")}}
                  <!-- LABEL -->
                  {{ update_payment_form.payment_purposes_subscription.label(class="form-check-label") }}
                </div>
                <div class="form-check">
                  <!-- FIELD -->
                  {{update_payment_form.payment_purposes_donation(class="form-check-input")}}
                  <!-- LABEL -->
                  {{ update_payment_form.payment_purposes_donation.label(class="form-check-label") }}
                </div>
                <div id="update-payments-help" class="form-text">set</div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
    
        <button name="update-payment" type="submit" class="btn btn-primary">Update Payment</button>
      </form>
    </div>


{% endblock %}